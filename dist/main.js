(()=>{let t,e=-1,n=[];class d{constructor(t){this.title=t,this.tasks=[],e++,this.id=e,this.t=0}add(t){this.tasks.push(t),s()}displayProject(){const e=document.querySelector("#content"),d=document.createElement("div");d.classList.add("project"+this.id),d.replaceChildren();const i=document.createElement("div");i.setAttribute("id","Title"),i.textContent=this.title,d.appendChild(i);for(let t=0;t<this.tasks.length;t++)this.tasks[t].displayTask(d);e.appendChild(d);const s=document.getElementById("createTask"),c=document.createElement("button");c.setAttribute("id","add"),c.textContent="+",c.addEventListener("click",(()=>{t=n[this.id],s.showModal()})),d.appendChild(c)}}class i{constructor(t,e,n,d,i){this.name=t,this.date=e,this.status=n,this.priority=d,this.t=i.t,i.t++}displayTask(e){console.log(this.t);const n=document.createElement("div");n.classList.add("task");const d=document.createElement("div");d.setAttribute("id","name"),d.textContent=this.name;const i=document.createElement("div");i.setAttribute("id","date"),i.textContent=this.date;const c=document.createElement("div");c.setAttribute("id","check"),c.textContent=this.status;const o=document.createElement("div");o.setAttribute("id","priority"),o.textContent=this.priority;const a=document.createElement("button");a.setAttribute("id","del"),a.textContent="X",a.addEventListener("click",(()=>{console.log(t.tasks),function(t,e){for(var n=t.length;n--;)n===e&&t.splice(n,1)}(t.tasks,this.t),s()})),n.appendChild(d),n.appendChild(i),n.appendChild(o),n.appendChild(c),n.appendChild(a),e.appendChild(n)}}function s(){console.log(n),document.querySelector("#content").replaceChildren();for(let t=0;t<n.length;t++)n[t].displayProject()}let c=new d("Project"),o=new i("Name:","Date:","Priority:","Status:",c);c.add(o),n.push(c),s();const a=document.getElementById("createProject"),l=document.getElementById("create"),r=document.getElementById("confirmBtn");l.addEventListener("click",(()=>{a.showModal()})),a.addEventListener("close",(t=>{})),r.addEventListener("click",(t=>{t.preventDefault();const e=document.getElementById("title");let c=new d(e.value),o=new i("Name:","Date:","Priority:","Status:",c);c.add(o),n.push(c),s()})),document.querySelector("#confirm").addEventListener("click",(e=>{const n=document.getElementById("tname").value,d=document.getElementById("tdate").value,s=document.getElementById("tcheck").value,c=document.getElementById("tpriority").value;e.preventDefault();let o=new i(n,d,s,c,t);t.add(o)}))})();