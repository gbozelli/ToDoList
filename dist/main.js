(()=>{let t,e=-1,n=[];class d{constructor(t){this.title=t,this.tasks=[],e++,this.id=e,this.t=0}add(t){this.tasks.push(t),i()}displayProject(){const e=document.querySelector("#content"),d=document.createElement("div");d.classList.add("project"+this.id),d.replaceChildren();const s=document.createElement("div");s.setAttribute("id","Title"),s.textContent=this.title,d.appendChild(s);for(let t=0;t<this.tasks.length;t++)this.tasks[t].displayTask(d);e.appendChild(d);const i=document.getElementById("createTask"),c=document.createElement("button");c.setAttribute("id","add"),c.textContent="+",c.addEventListener("click",(()=>{t=n[this.id],i.showModal()})),d.appendChild(c)}}class s{constructor(t,e,n,d,s){this.name=t,this.date=e,this.status=n,this.priority=d,this.t=s.t,s.t++}displayTask(e){console.log(this.t);const n=document.createElement("div");n.classList.add("task");const d=document.createElement("div");d.setAttribute("id","name"),d.textContent=this.name;const s=document.createElement("div");s.setAttribute("id","date"),s.textContent=this.date;const c=document.createElement("div");c.setAttribute("id","check"),c.textContent=this.status;const o=document.createElement("div");o.setAttribute("id","priority"),o.textContent=this.priority;const a=document.createElement("button");a.setAttribute("id","del"),a.textContent="X",a.addEventListener("click",(()=>{console.log(t.tasks),function(t,e){for(var n=t.length;n--;)n===e&&t.splice(n,1)}(t.tasks,this.t),i()})),n.addEventListener("click",(()=>{document.getElementById("taskText").textContent=this.name+this.date+this.status+this.priority,u.showModal()})),n.appendChild(d),n.appendChild(s),n.appendChild(o),n.appendChild(c),n.appendChild(a),e.appendChild(n)}}function i(){console.log(n),document.querySelector("#content").replaceChildren();for(let t=0;t<n.length;t++)n[t].displayProject()}let c=new d("Project"),o=new s("Name:","Date:","Priority:","Status:",c);c.add(o),n.push(c),i();const a=document.getElementById("createProject"),l=document.getElementById("create"),r=document.getElementById("confirmBtn");l.addEventListener("click",(()=>{a.showModal()})),a.addEventListener("close",(t=>{})),r.addEventListener("click",(t=>{t.preventDefault();const e=document.getElementById("title");let c=new d(e.value),o=new s("Name:","Date:","Priority:","Status:",c);c.add(o),n.push(c),i()})),document.querySelector("#confirm").addEventListener("click",(e=>{const n=document.getElementById("tname").value,d=document.getElementById("tdate").value,i=document.getElementById("tcheck").value,c=document.getElementById("tpriority").value;e.preventDefault();let o=new s(n,d,i,c,t);t.add(o)}));const u=document.getElementById("tasks");document.getElementById("close").addEventListener("click",(()=>{u.close()}))})();